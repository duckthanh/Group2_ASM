<<<<<<< HEAD
# üè† WEBSITE T√åM TR·ªå - GROUP 6
=======
# üè† T√åM TR·ªå - H·ªá th·ªëng qu·∫£n l√Ω ph√≤ng tr·ªç
>>>>>>> origin/phong28

## üìñ Gi·ªõi thi·ªáu

**T√¨m Tr·ªç** l√† m·ªôt ·ª©ng d·ª•ng web fullstack gi√∫p k·∫øt n·ªëi ng∆∞·ªùi t√¨m tr·ªç v·ªõi ch·ªß nh√† tr·ªç. H·ªá th·ªëng cung c·∫•p c√°c t√≠nh nƒÉng:

<<<<<<< HEAD
### Backend
- ‚òï Java 21
- üçÉ Spring Boot 3.5.6
- üóÑÔ∏è MySQL Database
- üì¶ Maven
- üîê Spring Security

### Frontend
- ‚öõÔ∏è React 18
- ‚ö° Vite
- üé® CSS3 (Modern Design)
- üîó Axios

## ‚ú® T√≠nh NƒÉng Ch√≠nh

‚úÖ **X√°c th·ª±c ng∆∞·ªùi d√πng**
- ƒêƒÉng k√Ω t√†i kho·∫£n
- ƒêƒÉng nh·∫≠p/ƒêƒÉng xu·∫•t

‚úÖ **Qu·∫£n l√Ω ph√≤ng tr·ªç**
- Th√™m ph√≤ng tr·ªç m·ªõi (y√™u c·∫ßu ƒëƒÉng nh·∫≠p)
- Xem danh s√°ch ph√≤ng tr·ªç
- C·∫≠p nh·∫≠t/X√≥a ph√≤ng tr·ªç (ch·ªâ ch·ªß ph√≤ng)

‚úÖ **Thu√™ ph√≤ng**
- Thu√™ ngay
- ƒê·∫∑t c·ªçc
- Qu·∫£n l√Ω booking
- X√°c nh·∫≠n/H·ªßy booking

## üìÇ C·∫•u Tr√∫c Project

```
Group2_ASM/
‚îú‚îÄ‚îÄ src/main/java/          # Backend Spring Boot
‚îÇ   ‚îî‚îÄ‚îÄ com/x/group2_timtro/
‚îÇ       ‚îú‚îÄ‚îÄ controller/     # REST API Controllers
‚îÇ       ‚îú‚îÄ‚îÄ entity/         # Database Entities
‚îÇ       ‚îú‚îÄ‚îÄ repository/     # JPA Repositories
‚îÇ       ‚îú‚îÄ‚îÄ service/        # Business Logic
‚îÇ       ‚îî‚îÄ‚îÄ dto/            # Data Transfer Objects
‚îú‚îÄ‚îÄ frontend/               # Frontend React
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ components/     # React Components
‚îÇ       ‚îú‚îÄ‚îÄ pages/          # Page Components
‚îÇ       ‚îî‚îÄ‚îÄ services/       # API Services
‚îî‚îÄ‚îÄ HUONG_DAN_SU_DUNG.md   # H∆∞·ªõng d·∫´n chi ti·∫øt
```

## üèÉ‚Äç‚ôÇÔ∏è C√°ch Ch·∫°y ·ª®ng D·ª•ng

Spring Boot s·ª≠ d·ª•ng Hibernate v·ªõi `ddl-auto: update`, n√™n c√°c b·∫£ng c∆° b·∫£n s·∫Ω **T·ª∞ ƒê·ªòNG** ƒë∆∞·ª£c t·∫°o khi ch·∫°y l·∫ßn ƒë·∫ßu. Tuy nhi√™n, b·∫°n v·∫´n c·∫ßn:
1. T·∫°o database
2. Ch·∫°y c√°c file SQL cho features m·ªõi
3. T·∫°o t√†i kho·∫£n admin

---

### B∆∞·ªõc 1: T·∫°o Database
```sql
CREATE DATABASE tim_tro 
CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;
```

### B∆∞·ªõc 2: C·∫•u h√¨nh k·∫øt n·ªëi (n·∫øu c·∫ßn)
M·ªü file `src/main/resources/application.yaml` v√† ki·ªÉm tra/c·∫≠p nh·∫≠t:

```yaml
datasource:
  url: jdbc:mysql://localhost:3306/tim_tro
  username: root
  password: password MySQL c·ªßa b·∫°n
```

### B∆∞·ªõc 3: Ch·∫°y Backend l·∫ßn ƒë·∫ßu
```bash
./mvnw spring-boot:run
```

‚úÖ **Hibernate s·∫Ω t·ª± ƒë·ªông t·∫°o c√°c b·∫£ng c∆° b·∫£n:**
- `users`
- `rooms`
- `bookings`
- V√† c√°c b·∫£ng kh√°c trong entities

T√¥i ƒë√£ t·∫°o file SQL t·ªïng h·ª£p b√™n d∆∞·ªõi. Ch·ªâ c·∫ßn ch·∫°y 1 l·∫ßn duy nh·∫•t!

```sql
-- =====================================================
-- COMPLETE DATABASE SETUP FOR T√åM TR·ªå
-- Ch·∫°y file n√†y SAU KHI ƒë√£ ch·∫°y Backend l·∫ßn ƒë·∫ßu
-- =====================================================

USE tim_tro;

-- =====================================================
-- 1. CREATE ADDITIONAL TABLES
-- =====================================================

-- Saved Rooms Table
CREATE TABLE IF NOT EXISTS saved_rooms (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    room_id BIGINT NOT NULL,
    saved_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_saved_at (user_id, saved_at DESC),
    INDEX idx_room_id (room_id),
    UNIQUE KEY unique_user_room (user_id, room_id),
    CONSTRAINT fk_saved_rooms_user FOREIGN KEY (user_id) 
        REFERENCES users(id) ON DELETE CASCADE,
    CONSTRAINT fk_saved_rooms_room FOREIGN KEY (room_id) 
        REFERENCES rooms(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Room Reports Table
CREATE TABLE IF NOT EXISTS room_reports (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    room_id BIGINT NOT NULL,
    reporter_id BIGINT NOT NULL,
    reason VARCHAR(50) NOT NULL,
    description TEXT,
    status VARCHAR(20) NOT NULL DEFAULT 'PENDING',
    reported_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    resolved_at DATETIME NULL,
    INDEX idx_room_reported_at (room_id, reported_at DESC),
    INDEX idx_reporter_id (reporter_id),
    INDEX idx_status_reported_at (status, reported_at DESC),
    CONSTRAINT fk_room_reports_room FOREIGN KEY (room_id) 
        REFERENCES rooms(id) ON DELETE CASCADE,
    CONSTRAINT fk_room_reports_reporter FOREIGN KEY (reporter_id) 
        REFERENCES users(id) ON DELETE CASCADE,
    CONSTRAINT chk_report_reason CHECK (reason IN ('spam', 'wrong_price', 'fake_images', 'other')),
    CONSTRAINT chk_report_status CHECK (status IN ('PENDING', 'REVIEWING', 'RESOLVED', 'REJECTED'))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Viewing Schedules Table
CREATE TABLE IF NOT EXISTS viewing_schedules (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    room_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    viewing_date DATE NOT NULL,
    viewing_time TIME NOT NULL,
    visitor_name VARCHAR(100) NOT NULL,
    visitor_phone VARCHAR(20) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT 'PENDING',
    notes TEXT,
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    confirmed_at DATETIME NULL,
    cancelled_at DATETIME NULL,
    INDEX idx_user_viewing_date (user_id, viewing_date DESC),
    INDEX idx_room_viewing_date (room_id, viewing_date DESC),
    INDEX idx_status_viewing_date (status, viewing_date DESC),
    INDEX idx_room_date_time (room_id, viewing_date, viewing_time),
    CONSTRAINT fk_viewing_schedules_room FOREIGN KEY (room_id) 
        REFERENCES rooms(id) ON DELETE CASCADE,
    CONSTRAINT fk_viewing_schedules_user FOREIGN KEY (user_id) 
        REFERENCES users(id) ON DELETE CASCADE,
    CONSTRAINT chk_schedule_status CHECK (status IN ('PENDING', 'CONFIRMED', 'CANCELLED', 'COMPLETED'))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- =====================================================
-- 2. ADD COST FIELDS TO ROOMS (if not exists)
-- =====================================================

-- Check and add electricity_cost column
SET @col_exists = 0;
SELECT COUNT(*) INTO @col_exists 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_SCHEMA = 'tim_tro' 
  AND TABLE_NAME = 'rooms' 
  AND COLUMN_NAME = 'electricity_cost';

SET @query = IF(@col_exists = 0,
    'ALTER TABLE rooms ADD COLUMN electricity_cost INT DEFAULT 0 AFTER contact',
    'SELECT "electricity_cost column already exists" AS message');
PREPARE stmt FROM @query;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- Check and add water_cost column
SET @col_exists = 0;
SELECT COUNT(*) INTO @col_exists 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_SCHEMA = 'tim_tro' 
  AND TABLE_NAME = 'rooms' 
  AND COLUMN_NAME = 'water_cost';

SET @query = IF(@col_exists = 0,
    'ALTER TABLE rooms ADD COLUMN water_cost INT DEFAULT 0 AFTER electricity_cost',
    'SELECT "water_cost column already exists" AS message');
PREPARE stmt FROM @query;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- Check and add internet_cost column
SET @col_exists = 0;
SELECT COUNT(*) INTO @col_exists 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_SCHEMA = 'tim_tro' 
  AND TABLE_NAME = 'rooms' 
  AND COLUMN_NAME = 'internet_cost';

SET @query = IF(@col_exists = 0,
    'ALTER TABLE rooms ADD COLUMN internet_cost INT DEFAULT 0 AFTER water_cost',
    'SELECT "internet_cost column already exists" AS message');
PREPARE stmt FROM @query;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- Check and add parking_cost column
SET @col_exists = 0;
SELECT COUNT(*) INTO @col_exists 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_SCHEMA = 'tim_tro' 
  AND TABLE_NAME = 'rooms' 
  AND COLUMN_NAME = 'parking_cost';

SET @query = IF(@col_exists = 0,
    'ALTER TABLE rooms ADD COLUMN parking_cost INT DEFAULT 0 AFTER internet_cost',
    'SELECT "parking_cost column already exists" AS message');
PREPARE stmt FROM @query;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- =====================================================
-- 3. CREATE ADMIN ACCOUNT
-- =====================================================

-- T·∫Øt safe update mode t·∫°m th·ªùi
SET SQL_SAFE_UPDATES = 0;

-- X√≥a admin c≈© n·∫øu c√≥
DELETE FROM users WHERE email = 'admin@timtro.com';

-- T·∫°o admin account (password: admin123)
INSERT INTO users (username, email, password, phone_number, address, role) 
VALUES (
    'Admin', 
    'admin@timtro.com', 
    '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy', 
    '0123456789', 
    'H√† N·ªôi', 
    'ADMIN'
);

-- B·∫≠t l·∫°i safe update mode
SET SQL_SAFE_UPDATES = 1;

-- =====================================================
-- 4. VERIFICATION
-- =====================================================

-- Show all tables
SHOW TABLES;

-- Count records
SELECT 'users' AS table_name, COUNT(*) AS record_count FROM users
UNION ALL
SELECT 'rooms' AS table_name, COUNT(*) AS record_count FROM rooms
UNION ALL
SELECT 'bookings' AS table_name, COUNT(*) AS record_count FROM bookings
UNION ALL
SELECT 'saved_rooms' AS table_name, COUNT(*) AS record_count FROM saved_rooms
UNION ALL
SELECT 'room_reports' AS table_name, COUNT(*) AS record_count FROM room_reports
UNION ALL
SELECT 'viewing_schedules' AS table_name, COUNT(*) AS record_count FROM viewing_schedules;

-- =====================================================
-- DONE! DATABASE SETUP COMPLETE
-- =====================================================

SELECT '‚úÖ Database setup completed successfully!' AS status;
SELECT 'üë§ Admin account created:' AS info;
SELECT '   Email: admin@timtro.com' AS credentials;
SELECT '   Password: admin123' AS credentials;
SELECT '‚ö†Ô∏è  Remember to change admin password after first login!' AS warning;
```

---

## ‚úÖ CHECKLIST SAU KHI SETUP

Ch·∫°y query sau ƒë·ªÉ ki·ªÉm tra:

```sql
USE tim_tro;

-- Xem t·∫•t c·∫£ c√°c b·∫£ng
SHOW TABLES;

-- K·∫øt qu·∫£ mong ƒë·ª£i (t·ªëi thi·ªÉu 6 b·∫£ng):
-- ‚úì users
-- ‚úì rooms  
-- ‚úì bookings
-- ‚úì saved_rooms
-- ‚úì room_reports
-- ‚úì viewing_schedules

-- Ki·ªÉm tra admin account
SELECT username, email, role FROM users WHERE role = 'ADMIN';
```

---

## üéØ T√ÄI KHO·∫¢N M·∫∂C ƒê·ªäNH

### Admin Account
- **Email:** `admin@timtro.com`
- **Password:** `admin123`
- **Role:** ADMIN

‚ö†Ô∏è **L∆ØU √ù:** ƒê·ªïi m·∫≠t kh·∫©u admin ngay sau khi ƒëƒÉng nh·∫≠p l·∫ßn ƒë·∫ßu!

---

## üîß TROUBLESHOOTING

### L·ªói: "Table doesn't exist"
‚û°Ô∏è **Gi·∫£i ph√°p:** Ch·∫°y l·∫°i Backend ƒë·ªÉ Hibernate t·∫°o b·∫£ng, sau ƒë√≥ ch·∫°y file SQL.

### L·ªói: "Foreign key constraint fails"
‚û°Ô∏è **Gi·∫£i ph√°p:** ƒê·∫£m b·∫£o c√°c b·∫£ng `users` v√† `rooms` ƒë√£ t·ªìn t·∫°i tr∆∞·ªõc khi t·∫°o c√°c b·∫£ng features m·ªõi.

### L·ªói: "Access denied for user"
‚û°Ô∏è **Gi·∫£i ph√°p:** Ki·ªÉm tra l·∫°i username/password trong `application.yaml`.

### L·ªói: "Unknown database 'tim_tro'"
‚û°Ô∏è **Gi·∫£i ph√°p:** Ch·∫°y l·∫°i `CREATE DATABASE tim_tro;`

---

## üìû H·ªñ TR·ª¢

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ, ki·ªÉm tra:
1. MySQL ƒë√£ c√†i ƒë·∫∑t v√† ƒëang ch·∫°y
2. Database `tim_tro` ƒë√£ ƒë∆∞·ª£c t·∫°o
3. Th√¥ng tin k·∫øt n·ªëi trong `application.yaml` ƒë√∫ng
4. Backend ƒë√£ ch·∫°y th√†nh c√¥ng l·∫ßn ƒë·∫ßu

---

**‚ú® Setup th√†nh c√¥ng? B·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng website t·∫°i `http://localhost:3000`**



### Quy tr√¨nh c∆° b·∫£n:

1. **ƒêƒÉng k√Ω** t√†i kho·∫£n m·ªõi
2. **ƒêƒÉng nh·∫≠p** v√†o h·ªá th·ªëng
3. **Th√™m ph√≤ng tr·ªç** (n√∫t "Th√™m Ph√≤ng Tr·ªç")
   - ƒêi·ªÅn: T√™n, ·∫¢nh, Gi√°, V·ªã tr√≠, Li√™n h·ªá
4. **Thu√™ ph√≤ng** (n√∫t "Thu√™ ngay" ho·∫∑c "ƒê·∫∑t c·ªçc")
   - ƒêi·ªÅn: Th·ªùi h·∫°n, Ng√†y d·ªçn v√†o, S·ªë ng∆∞·ªùi, SƒêT

## üéØ API Endpoints

### Authentication
- `POST /api/auth/login` - ƒêƒÉng nh·∫≠p
- `POST /api/auth/register` - ƒêƒÉng k√Ω

### Rooms
- `GET /api/rooms/available` - L·∫•y ph√≤ng c√≤n tr·ªëng
- `POST /api/rooms` - T·∫°o ph√≤ng m·ªõi
- `PUT /api/rooms/{id}` - C·∫≠p nh·∫≠t ph√≤ng
- `DELETE /api/rooms/{id}` - X√≥a ph√≤ng

### Bookings
- `POST /api/bookings` - T·∫°o booking
- `GET /api/bookings/my-bookings` - Xem booking c·ªßa t√¥i
- `PUT /api/bookings/{id}/confirm` - X√°c nh·∫≠n booking
- `PUT /api/bookings/{id}/cancel` - H·ªßy booking

## üé® Screenshots

### Trang ch·ªß
Modern UI v·ªõi gradient effects v√† animations

### Trang thu√™ ph√≤ng tr·ªç
- Card hi·ªÉn th·ªã th√¥ng tin ph√≤ng
- N√∫t "Thu√™ ngay" v√† "ƒê·∫∑t c·ªçc"
- Modal form ƒë·∫πp m·∫Øt

### Form th√™m ph√≤ng
- Giao di·ªán hi·ªán ƒë·∫°i
- Validation ƒë·∫ßy ƒë·ªß
- Preview ·∫£nh

## üë• Nh√≥m Ph√°t Tri·ªÉn

**Group 6 - Website T√¨m Tr·ªç**

## üìÑ License

This project is for educational purposes.
=======
### üéØ T√≠nh nƒÉng ch√≠nh:
- ‚úÖ T√¨m ki·∫øm ph√≤ng tr·ªç (flexible search - kh√¥ng c·∫ßn ch√≠nh x√°c t·ª´ng ch·ªØ)
- ‚úÖ L·ªçc ph√≤ng theo lo·∫°i h√¨nh, gi√°, di·ªán t√≠ch, ti·ªán nghi
- ‚úÖ ƒêƒÉng ph√≤ng tr·ªç v·ªõi qu·∫£n l√Ω s·ªë l∆∞·ª£ng
- ‚úÖ ƒê·∫∑t ph√≤ng v√† qu·∫£n l√Ω booking
- ‚úÖ Upload t√†i li·ªáu, thanh to√°n QR
- ‚úÖ L∆∞u ph√≤ng y√™u th√≠ch
- ‚úÖ B√°o c√°o ph√≤ng
- ‚úÖ Qu·∫£n l√Ω ƒë·∫∑t c·ªçc/thu√™ ngay
>>>>>>> origin/phong28

---

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Backend:
- **Java 17**
- **Spring Boot 3.x**
- **Spring Security** (JWT Authentication)
- **Spring Data JPA**
- **MySQL 8.0**
- **Maven**

### Frontend:
- **React 18**
- **React Router DOM**
- **Axios**
- **Vite**
- **Lucide React** (Icons)
- **React Hot Toast**

---

## üìã Y√™u c·∫ßu h·ªá th·ªëng

- ‚úÖ **Java JDK 17+**
- ‚úÖ **Node.js 18+** v√† **npm**
- ‚úÖ **MySQL 8.0+**
- ‚úÖ **Git**

---

## üöÄ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t

### B∆∞·ªõc 1: Clone project
```bash
git clone <repository-url>
cd Group6_timtro
```

### B∆∞·ªõc 2: Setup Database

#### Option 1: S·ª≠ d·ª•ng MySQL Workbench (Khuy·∫øn ngh·ªã)
1. M·ªü MySQL Workbench
2. File ‚Üí Open SQL Script ‚Üí Ch·ªçn `database_setup.sql`
3. Click Execute (‚ö°)

#### Option 2: Command Line
```bash
mysql -u root -p < database_setup.sql
```

üìñ **Chi ti·∫øt:** Xem file `DATABASE_SETUP_GUIDE.md`
v√† ch·∫°y file ·ªü My SQL `database_setup.sql`

### B∆∞·ªõc 3: C·∫•u h√¨nh Backend

#### 3.1. C·∫≠p nh·∫≠t `src/main/resources/application.properties`:
```properties
# Database
spring.datasource.url=jdbc:mysql://localhost:3306/tim_tro
spring.datasource.username=root
spring.datasource.password=YOUR_MYSQL_PASSWORD

# JWT
jwt.secret=YOUR_SECRET_KEY_HERE
jwt.expiration=86400000
```

‚ö†Ô∏è **Thay `YOUR_MYSQL_PASSWORD` b·∫±ng password MySQL c·ªßa b·∫°n!**

#### 3.2. Build v√† ch·∫°y Backend:
```bash
# Windows
.\mvnw.cmd clean install
.\mvnw.cmd spring-boot:run

# Mac/Linux
./mvnw clean install
./mvnw spring-boot:run
```

Backend s·∫Ω ch·∫°y t·∫°i: `http://localhost:8080`

### B∆∞·ªõc 4: Setup v√† ch·∫°y Frontend

```bash
cd frontend

# C√†i ƒë·∫∑t dependencies
npm install

# Ch·∫°y development server
npm run dev
```

Frontend s·∫Ω ch·∫°y t·∫°i: `http://localhost:5173`

---

## üë§ T√†i kho·∫£n m·∫´u

S·ª≠ d·ª•ng c√°c t√†i kho·∫£n sau ƒë·ªÉ test:

| Lo·∫°i | Email | Password | Quy·ªÅn |
|------|-------|----------|-------|
| **Admin** | admin@timtro.com | 123456 | Qu·∫£n tr·ªã vi√™n |
| **Ch·ªß tr·ªç** | landlord1@gmail.com | 123456 | ƒêƒÉng ph√≤ng, qu·∫£n l√Ω |
| **Ng∆∞·ªùi thu√™** | tenant1@gmail.com | 123456 | T√¨m ph√≤ng, ƒë·∫∑t ph√≤ng |
| **User** | user1@gmail.com | 123456 | Ng∆∞·ªùi d√πng |

---

## üìÅ C·∫•u tr√∫c project

```
Group6_timtro/
‚îú‚îÄ‚îÄ src/                          # Backend (Spring Boot)
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/x/group2_timtro/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controller/   # REST API Controllers
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service/      # Business Logic
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ repository/   # Database Access
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ entity/       # JPA Entities
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dto/          # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ configuration/# Security, JWT config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ frontend/                     # Frontend (React + Vite)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/           # React Components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                # Page Components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/             # API Services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/                # Utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ database_setup.sql            # SQL Setup Script
‚îú‚îÄ‚îÄ DATABASE_SETUP_GUIDE.md       # H∆∞·ªõng d·∫´n setup DB
‚îú‚îÄ‚îÄ README.md                     # File n√†y
‚îî‚îÄ‚îÄ pom.xml                       # Maven configuration
```

---

## üéÆ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng

### 1. Ng∆∞·ªùi t√¨m tr·ªç:
1. ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p
2. T√¨m ki·∫øm ph√≤ng (c√≥ th·ªÉ g√µ: "g·∫ßn FPT", "th√¥n4", "ban c√¥ng"...)
3. L·ªçc theo gi√°, di·ªán t√≠ch, lo·∫°i h√¨nh, ti·ªán nghi
4. Xem chi ti·∫øt ph√≤ng
5. L∆∞u ph√≤ng y√™u th√≠ch (‚ù§Ô∏è)
6. ƒê·∫∑t ph√≤ng (Thu√™ ngay ho·∫∑c ƒê·∫∑t c·ªçc)
7. Upload ch·ª©ng t·ª´ thanh to√°n
8. Theo d√µi tr·∫°ng th√°i booking

### 2. Ch·ªß tr·ªç:
1. ƒêƒÉng nh·∫≠p
2. Th√™m ph√≤ng tr·ªç m·ªõi
   - Upload h√¨nh ·∫£nh
   - ƒêi·ªÅn th√¥ng tin: gi√°, di·ªán t√≠ch, ti·ªán nghi
   - **Nh·∫≠p s·ªë l∆∞·ª£ng ph√≤ng** (m·ªõi!)
3. Qu·∫£n l√Ω ph√≤ng ƒë√£ ƒëƒÉng
4. Xem y√™u c·∫ßu booking
5. X√°c nh·∫≠n/T·ª´ ch·ªëi booking
6. Upload QR thanh to√°n
7. X√°c nh·∫≠n thanh to√°n t·ª´ ng∆∞·ªùi thu√™

### 3. Admin:
1. Qu·∫£n l√Ω t·∫•t c·∫£ ph√≤ng
2. Qu·∫£n l√Ω users
3. Xem b√°o c√°o ph√≤ng
4. X√≥a/Ch·ªânh s·ª≠a b·∫•t k·ª≥ d·ªØ li·ªáu n√†o

---

## üîç API Endpoints

### Authentication
```
POST   /auth/register          # ƒêƒÉng k√Ω
POST   /auth/login             # ƒêƒÉng nh·∫≠p
```

### Rooms
```
GET    /api/rooms              # L·∫•y danh s√°ch ph√≤ng
GET    /api/rooms/{id}         # Chi ti·∫øt ph√≤ng
POST   /api/rooms              # T·∫°o ph√≤ng m·ªõi
PUT    /api/rooms/{id}         # C·∫≠p nh·∫≠t ph√≤ng
DELETE /api/rooms/{id}         # X√≥a ph√≤ng
GET    /api/rooms/search       # T√¨m ki·∫øm ph√≤ng
POST   /api/rooms/filter       # L·ªçc ph√≤ng
```

### Bookings
```
GET    /api/me/rooms           # Ph√≤ng ƒë√£ ƒë·∫∑t
GET    /api/me/rooms/posted    # Ph√≤ng ƒë√£ ƒëƒÉng
GET    /api/me/rooms/{bookingId} # Chi ti·∫øt booking
POST   /api/me/rooms/{bookingId}/payment-qr     # Upload QR
POST   /api/me/rooms/{bookingId}/payment-proof  # Upload proof
POST   /api/me/rooms/{bookingId}/confirm-payment # X√°c nh·∫≠n
```

### Saved Rooms
```
GET    /api/saved-rooms        # Ph√≤ng ƒë√£ l∆∞u
POST   /api/saved-rooms/{roomId} # L∆∞u ph√≤ng
DELETE /api/saved-rooms/{roomId} # B·ªè l∆∞u
```

üìñ **Full API Documentation:** Xem Postman collection (n·∫øu c√≥)

---

## ‚ö° T√≠nh nƒÉng n·ªïi b·∫≠t

### 1. Flexible Search (T√¨m ki·∫øm linh ho·∫°t)
- Kh√¥ng c·∫ßn g√µ ch√≠nh x√°c: `"th√¥n4"` ‚Üí t√¨m `"th√¥n 4"` ‚úÖ
- Kh√¥ng ph√¢n bi·ªát HOA/th∆∞·ªùng: `"FPT"` = `"fpt"` ‚úÖ
- T√¨m trong nhi·ªÅu tr∆∞·ªùng: t√™n, ƒë·ªãa ch·ªâ, m√¥ t·∫£, ti·ªán nghi

### 2. Qu·∫£n l√Ω s·ªë l∆∞·ª£ng ph√≤ng
- M·ªói ph√≤ng c√≥ th·ªÉ c√≥ nhi·ªÅu ƒë∆°n v·ªã (vd: 10 ph√≤ng)
- T·ª± ƒë·ªông gi·∫£m khi c√≥ ng∆∞·ªùi thu√™
- T·ª± ƒë·ªông chuy·ªÉn "H·∫øt ph√≤ng" khi s·ªë l∆∞·ª£ng = 0
- TƒÉng l·∫°i khi h·ªßy booking

### 3. Payment QR & Documents
- Ch·ªß tr·ªç upload QR thanh to√°n
- Ng∆∞·ªùi thu√™ upload ch·ª©ng t·ª´
- Ch·ªß tr·ªç x√°c nh·∫≠n thanh to√°n

---

## üêõ X·ª≠ l√Ω l·ªói th∆∞·ªùng g·∫∑p

### 1. Backend kh√¥ng kh·ªüi ƒë·ªông
```bash
# Ki·ªÉm tra Java version
java -version   # Ph·∫£i >= 17

# Clean v√† rebuild
.\mvnw.cmd clean install
```

### 2. Frontend kh√¥ng k·∫øt n·ªëi Backend
- Ki·ªÉm tra Backend ƒëang ch·∫°y: `http://localhost:8080`
- Ki·ªÉm tra CORS configuration trong `SecurityConfiguration.java`

### 3. Database connection error
- Ki·ªÉm tra MySQL ƒëang ch·∫°y
- Ki·ªÉm tra username/password trong `application.properties`
- Test: `mysql -u root -p`

### 4. "NoClassDefFoundError"
```bash
.\mvnw.cmd clean compile
.\mvnw.cmd spring-boot:run
```

---

## üìù Changelog

### Version 1.0 (Latest)
- ‚úÖ Flexible search algorithm
- ‚úÖ Room quantity management
- ‚úÖ Payment QR per booking
- ‚úÖ Room availability badges
- ‚úÖ Posted rooms tab
- ‚úÖ Improved filter UI
- ‚ùå Removed viewing schedule feature

---

## üë• Contributors

- **Team 6** - Group2_timtro
- Phong - Developer

---

## üìÑ License

This project is licensed for educational purposes.

---

## üÜò Support

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ:
1. ƒê·ªçc k·ªπ `DATABASE_SETUP_GUIDE.md`
2. Ki·ªÉm tra logs c·ªßa Backend
3. Ki·ªÉm tra Console c·ªßa Frontend (F12)
4. Li√™n h·ªá team support

---

**Happy Coding! üöÄ**

*C·∫≠p nh·∫≠t l·∫ßn cu·ªëi: 30/10/2025*
